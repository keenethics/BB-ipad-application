<svg id="map" #map [attr.width]="width" [attr.height]="height">
  <rect class="overlay" fill="#E4E8ED" width="100%" height="100%"></rect>
  <defs>
    <pattern id="map-background" patternUnits="userSpaceOnUse" [attr.width]="5 / mapTransform.k" [attr.height]="5 / mapTransform.k">
      <circle [attr.cx]="2.5 / mapTransform.k" [attr.cy]="2.5 / mapTransform.k" [attr.r]="1.5 / mapTransform.k" stroke="black"
        stroke-width="0" fill="#808EA8" />
    </pattern>
    <pattern id="map-background-selected" patternUnits="userSpaceOnUse" [attr.width]="5 / mapTransform.k" [attr.height]="5 / mapTransform.k">
      <rect fill="#A7C1E3" [attr.width]="5 / mapTransform.k" [attr.height]="5 / mapTransform.k"></rect>
      <circle [attr.cx]="2.5 / mapTransform.k" [attr.cy]="2.5 / mapTransform.k" [attr.r]="1.5 / mapTransform.k" stroke="black"
        stroke-width="0" fill="#3B65AD" />
    </pattern>
  </defs>
</svg>
<div #overlay (click)="overlay.parentElement.removeChild(overlay)" style="position: fixed; width: 100%; height: 100%; top: 0; left: 0"></div>
